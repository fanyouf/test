<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>16_http模块_测试.md练习题</title>
  <link href="https://cdn.bootcss.com/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet" />
  <link href="https://cdn.bootcss.com/github-markdown-css/3.0.1/github-markdown.css" rel="stylesheet">
  <link href="https://fanyoufu.github.io/code/util.css?a=2" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/default.min.css">
  <style>
    body {
      color: #123;
      background-color: #f3f5f6;
    }
  </style>
</head>

<body class="test">
  <div class="ui grid page">
    <div class="column">
      <div class="ui segment _p3">
        <h2 class="ui header dividing">
          <div class="content">
            16_http模块_测试.md-检测题
          </div>
        </h2>
        <div class="ui relaxed list link">

          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目1 
              </div>
              <div class="active content">
                <p>使用http模块来创建web 服务器的步骤有三步：</p>
<ol>
<li>引入模块</li>
<li>创建服务</li>
<li>开启监听</li>
</ol>
<p>请补全代码。</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <pre><code class="language-javascript">// 引入模块
const http = require('http');

// 创建服务
const server = http.createServer(function(req, res) {
    res.end('ok')
})

// 监听端口
server.listen(8083, function() {
  console.log('别用鼠标选中........ 本次服务器已经启动了success');
});
</code></pre>
<p>基于chrome v8引擎的javascript运行时。它是一个软件，下载安装后可以运行js代码。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目2 
              </div>
              <div class="active content">
                <p>下面代码中，req,res分别是指什么？</p>
<pre><code class="language-javascript">http.createServer((req,res)=&gt; {
    res.end('ok')    
})
</code></pre>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>req：表示本次请求对象。</p>
<p>res：表示本次响应对象。用它可以来设置响应相关的内容。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目3 
              </div>
              <div class="active content">
                <p>下面代码中：</p>
<pre><code class="language-javascript">http.createServer((req,res)=&gt; {
    res.end('ok')    
})
</code></pre>
<p>res.end()有什么用处？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>有两个作用：1.设置响应体的内容是字符串<code>ok</code>。 2. 结束本次请求。如果不写res.end()则请求将不会结束。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目4 
              </div>
              <div class="active content">
                <pre><code class="language-javascript">http.createServer((req,res)=&gt; {
	let rs = fs.readFileSync('./1.png','utf8')
    res.end(rs)    
})
</code></pre>
<p>上面代码的目标是返回一张图片给浏览器显示，请问它能成功吗？为什么？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>不能成功。因为readFileSync的第二个参数设置成了utf8之后，得到的内容是字符串，而读出图片需要的是buffer格式。改正的方式是：去掉'utf8'。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目5 
              </div>
              <div class="active content">
                <p>如何理解二次请求？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>如果请求回来的内容是.html，则浏览器会去以网页的格式来显示这个文件内容，此时，如果.html中还引入其它的资源(.css,.png...)就会再次去请求。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目6 
              </div>
              <div class="active content">
                <p>如果用户在地址栏中输入是：http://localhost:8084/getmsg?a=123，</p>
<p>在后端服务器中：</p>
<pre><code>(req,res)=&gt;{
   console.log(req.url)// 这里的值是什么？
}
</code></pre>
<p>上面的req.url的值是什么？如何获取本次请求的类型？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>/getmsg?a=123 。 req.method</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目7 
              </div>
              <div class="active content">
                <p>如果用户在地址栏中输入是：http://localhost:8084</p>
<p>在后端服务器中：</p>
<pre><code>(req,res)=&gt;{
   console.log(req.url)// 这里的值是什么？
}
</code></pre>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>答案是： /  。它表示根。注意，不是空。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目8 
              </div>
              <div class="active content">
                <p>观察如下代码：</p>
<pre><code>(req,res)=&gt;{
   let rs = fs.readFileSync('./1.html')
   res.setHeader(&quot;content-type&quot;,&quot;text/css;charset=utf-8&quot;)
   res.end(rs)
}
</code></pre>
<p>假设1.html中确实是一个标准的html文件，上面代码执行后，在浏览器中能顺利显示这个页面吗？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>不能。由于这里设置了content-type是 text/css，所以浏览器会把它当作一个css文件来处理：直接把html代码显示在浏览器中，而不会当作一个网页来显示。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目9 
              </div>
              <div class="active content">
                <p>如何设置响应状态码是404？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>res.statusCode = 404</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目10 
              </div>
              <div class="active content">
                <p>如下代码中：</p>
<pre><code class="language-javascript">const url = require('url');
const obj = url.parser('/api/getmsg?a=1&amp;b=2')
</code></pre>
<p>如何取出 接口的地址？地址是多少？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>obj.pathname , /api/getmsg</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目11 
              </div>
              <div class="active content">
                <p>如下代码中：</p>
<pre><code class="language-javascript">const url = require('url');
const obj = url.parser('/api/getmsg?a=1&amp;b=2',true)
</code></pre>
<p>如何取出 a,b的值？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>方法一：直接获取.</p>
<p>obj.query.a , obj.query.b</p>
<p>方法二：解构赋值</p>
<p>let {a,b} = obj.query</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目12 
              </div>
              <div class="active content">
                <p>如下代码中：</p>
<pre><code class="language-javascript">(req,res)=&gt;{
   let result = {code: 200, data:[1,2,3]}
   res.end(result)
}
</code></pre>
<p>是否可以达到把对象result返回给客户端的目标？如不能，应该如何改正？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>不能。因为res.end()的实参只是buffer或者是字符串格式 。</p>
<p>应该改成：</p>
<pre><code class="language-javascript">var result = let result = {code: 200, data:[1,2,3]}
// 明确告之客户端，这里是json数据。
res.setHeader(&quot;content-type&quot;,&quot;application/json;charset=utf-8&quot;)
res.end(JSON.stringify( result) )
</code></pre>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目13 
              </div>
              <div class="active content">
                <p>计算机网络的三要素是什么？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>协议，ip，端口。</p>

              </div>
            </div>
          
            <div class="ui segment accordion">
              <div class=" title">
                <i class="dropdown icon"></i>题目14 
              </div>
              <div class="active content">
                <p>ip和端口有什么作用？</p>

              </div>

              <div class=" title">
                <i class="dropdown icon"></i>答案
        
              </div>
              <div class=" content">
                <p>ip地址用来确定服务器的地址。端口号来确定服务的软件。</p>
<p>IP地址其实就是一串数字，如:172.28.19.88，互联网中的每台计算机都有自己的IP地址，IP地址类似于我们邮快递时填写的地址，如： XXX省XX市XX区XX大街XX号。</p>
<p>网络中路由器都可以读懂这个由数字组成的“地址”，从而找到对应的计算机，把信息给到计算机，在计算机中，有个专门负责接收和发送网络数据的“管家”，它就是网卡设备，所有信息发送和接收都通过这位“管家”来进行。</p>
<p>在实际应用当中还有个问题，我们电脑中同时运行着浏览器、QQ、微信等多个应用程序，当计算机通过网卡接收到了数据，但这些数据都是要给谁的呢，QQ？微信？还是浏览器？</p>
<p>怎么正确识别收到的数据属于哪个应用程序呢，为了解决这个问题，计算机在每个发送的数据中附加了个标识，这个标识就是端口号，通过端口号计算机就可以知道接收的数据给哪个程序，端口号也是个数字，范围是从0-65535。</p>
<p>常用的端口：FTP服务 : 21，http服务 :80，https服务 :443</p>

              </div>
            </div>
          
        </div>
      </div>
    </div>
  </div>
  <script src="../static/js/baidu.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/semantic-ui/2.4.1/semantic.min.js"></script>
  <script src="https://cdn.bootcss.com/semantic-ui/2.4.1/components/accordion.js"></script>
  <script>
          $('.ui.accordion')
  .accordion()
;
  </script>

  </body>
</html>